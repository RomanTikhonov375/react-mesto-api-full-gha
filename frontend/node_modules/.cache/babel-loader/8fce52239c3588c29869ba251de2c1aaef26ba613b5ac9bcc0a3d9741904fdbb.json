{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Roman/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Roman/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../../src/index.css';import React from'react';import Header from'./Header.jsx';import Main from'./Main.jsx';import Footer from'./Footer.jsx';import ImagePopup from'./ImagePopup.jsx';import{useEffect,useState}from'react';import api from\"../utils/Api.js\";import{CurrentUserContext}from'../context/CurrentUserContext';import EditProfilePopup from'./EditProfilePopup.jsx';import EditAvatarPopup from'./EditAvatarPopup.jsx';import AddPlacePopup from'./AddPlacePopup.jsx';import DeleteConfirmationPopup from'./DeleteConfirmationPopup.jsx';import{Route,Routes,useNavigate}from'react-router-dom';import Login from'./Login';import Register from'./Register';import{NavLink}from'react-router-dom';import{login,register,checkToken}from'../utils/auth.js';import InfoTooltip from'./InfoTooltip';import ProtectedRouteElement from'./ProtectedRouteElement.jsx';import{Promise}from'mongoose';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDeleteConfirmationPopupOpen=_useState2[0],setIsDeleteConfirmationPopupOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isEditProfilePopupOpen=_useState4[0],setIsEditProfilePopupOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isAddPlacePopupOpen=_useState6[0],setIsAddPlacePopupOpen=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isEditAvatarPopupOpen=_useState8[0],setIsEditAvatarPopupOpen=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),selectedCard=_useState10[0],setSelectedCard=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),currentUser=_useState12[0],setCurrentUser=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),cards=_useState14[0],setCards=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isLoading=_useState16[0],setIsLoading=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),cardDelete=_useState18[0],setCardDelete=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),loggedIn=_useState20[0],setLoggedIn=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),userEmail=_useState22[0],setUserEmail=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),isInfoTooltipOpen=_useState24[0],setIsInfoTooltipOpen=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),isSuccess=_useState26[0],setIsSuccess=_useState26[1];var _useState27=useState(''),_useState28=_slicedToArray(_useState27,2),headingText=_useState28[0],setHeadingText=_useState28[1];function handleAddPlaceSubmit(_ref){var name=_ref.name,link=_ref.link;function makeRequest(){return api.setUserCard({name:name,link:link}).then(function(res){setCards([res].concat(_toConsumableArray(cards)));});}handleSubmit(makeRequest);}function handleCardLike(card,setCards){var isLiked=card.likes.some(function(id){return id===currentUser._id;});api.changeLikeCardStatus(card._id,isLiked).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(console.error);}function handleCardDelete(card,setCards){api.deleteCard(card._id).then(function(){setCards(function(state){return state.filter(function(c){return c._id!==card._id;});});closeAllModals();}).catch(console.error);}function handleUpdateAvatar(url){function makeRequest(){return api.setAvatar(url).then(function(res){setCurrentUser(res);});}handleSubmit(makeRequest);}function handleUpdateUser(_ref2){var name=_ref2.name,about=_ref2.about;function makeRequest(){return api.editingProfile({name:name,about:about}).then(function(res){setCurrentUser(res);});}handleSubmit(makeRequest);}// универсальная функця, которая принимает функцию запроса\nfunction handleSubmit(request){setIsLoading(true);request().then(closeAllModals).catch(console.error).finally(function(){return setIsLoading(false);});}// Проверка авторизации \nuseEffect(function(){var jwt=localStorage.getItem('jwt');if(jwt){checkToken(jwt).then(function(){setUserEmail(JSON.stringify(localStorage.getItem('email')).replace(/\\\"/g,\"\"));setLoggedIn(true);navigate('/');}).catch(function(err){if(err.status===400){console.log('400 — Токен не передан или передан не в том формате');}else if(err.status===401){console.log('401 — Переданный токен некорректен  ');}navigate('/sign-in');});};// api.getInitialCards()\n// .then(setCards).catch(console.error);\n//  api.getUserInfo()\n// .then(setCurrentUser).catch(console.error);\n},[navigate]);useEffect(function(){if(loggedIn){Promise.all([api.getInitialCards(),api.getUserInfo()]).then(function(_ref3){var _ref4=_slicedToArray(_ref3,2),cardsData=_ref4[0],userData=_ref4[1];setCards(cardsData);setCurrentUser(userData);}).catch(function(err){return console.error(err);});}},[loggedIn]);// Колбэк для логина пользователя\nfunction handleLogin(_ref5){var email=_ref5.email,password=_ref5.password;localStorage.setItem('email',email);setUserEmail(email);return login({email:email,password:password}).then(function(res){if(res.token){localStorage.setItem('jwt',res.token);setLoggedIn(true);}}).catch(function(err){if(err.status===400){console.log('400 - не передано одно из полей ');}else if(err.status===401){console.log('401 - пользователь с email не найден ');}});}// Колбэк для регистрации\nfunction handleRegister(_ref6){var email=_ref6.email,password=_ref6.password;return register({email:email,password:password}).then(function(res){setIsSuccess(true);setHeadingText('Вы успешно зарегестировались!');return res;}).catch(function(err){if(err.status===400){console.log('400 - некорректно заполнено одно из полей');}setIsSuccess(false);setHeadingText('Что-то пошло не так...');}).finally(function(){setIsInfoTooltipOpen(true);});}// Обработчик закрытие попапа по кнопке Esc\nvar isOpen=isEditAvatarPopupOpen||isEditProfilePopupOpen||isAddPlacePopupOpen||selectedCard||isDeleteConfirmationPopupOpen||isInfoTooltipOpen;useEffect(function(){function closeByEscape(evt){if(evt.key==='Escape'){closeAllModals();}}if(isOpen){// навешиваем только при открытии\ndocument.addEventListener('keydown',closeByEscape);return function(){document.removeEventListener('keydown',closeByEscape);};}},[isOpen]);function handleLoggout(){localStorage.clear();}function handleCardClick(selectedCard){setSelectedCard(selectedCard);}function handleEditAvatarClick(){setIsEditAvatarPopupOpen(true);};function handleEditProfileClick(){setIsEditProfilePopupOpen(true);};function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);}function showDeletePopup(card){setCardDelete(card);setIsDeleteConfirmationPopupOpen(true);}function closeAllModals(){setIsDeleteConfirmationPopupOpen(false);setIsEditAvatarPopupOpen(false);setIsEditProfilePopupOpen(false);setIsAddPlacePopupOpen(false);setIsInfoTooltipOpen(false);setSelectedCard(null);}return/*#__PURE__*/_jsxs(CurrentUserContext.Provider,{value:currentUser,children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(ProtectedRouteElement,{loggedIn:loggedIn,path:\"/\",children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsxs(\"div\",{className:'header__container',children:[/*#__PURE__*/_jsx(\"p\",{className:'header__user-email',children:userEmail}),/*#__PURE__*/_jsx(NavLink,{to:\"/sign-in\",className:'header__link header__link_loged_in opacity',onClick:handleLoggout,children:\"\\u0412\\u044B\\u0445\\u043E\\u0434\"})]})}),/*#__PURE__*/_jsx(Main,{setCards:setCards,cards:cards,onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onEditAvatar:handleEditAvatarClick,onCardClick:handleCardClick,onCardLike:handleCardLike,onCardDelete:handleCardDelete,onTrashClick:showDeletePopup}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllModals,onUpdateUser:handleUpdateUser,isLoading:isLoading}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllModals,onUpdateAvatar:handleUpdateAvatar,isLoading:isLoading}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllModals,onAddPlace:handleAddPlaceSubmit,isLoading:isLoading}),/*#__PURE__*/_jsx(DeleteConfirmationPopup,{isOpen:isDeleteConfirmationPopupOpen,onClose:closeAllModals,onCardDelete:handleCardDelete,card:cardDelete,setCards:setCards}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,onClose:closeAllModals}),/*#__PURE__*/_jsx(Footer,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(Register,{onRegister:handleRegister})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})})]}),isInfoTooltipOpen>0&&/*#__PURE__*/_jsx(InfoTooltip,{isSuccess:isSuccess,onClose:closeAllModals,headingText:headingText})]});}export default App;","map":{"version":3,"names":["React","Header","Main","Footer","ImagePopup","useEffect","useState","api","CurrentUserContext","EditProfilePopup","EditAvatarPopup","AddPlacePopup","DeleteConfirmationPopup","Route","Routes","useNavigate","Login","Register","NavLink","login","register","checkToken","InfoTooltip","ProtectedRouteElement","Promise","jsx","_jsx","jsxs","_jsxs","App","navigate","_useState","_useState2","_slicedToArray","isDeleteConfirmationPopupOpen","setIsDeleteConfirmationPopupOpen","_useState3","_useState4","isEditProfilePopupOpen","setIsEditProfilePopupOpen","_useState5","_useState6","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_useState7","_useState8","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","_useState9","_useState10","selectedCard","setSelectedCard","_useState11","_useState12","currentUser","setCurrentUser","_useState13","_useState14","cards","setCards","_useState15","_useState16","isLoading","setIsLoading","_useState17","_useState18","cardDelete","setCardDelete","_useState19","_useState20","loggedIn","setLoggedIn","_useState21","_useState22","userEmail","setUserEmail","_useState23","_useState24","isInfoTooltipOpen","setIsInfoTooltipOpen","_useState25","_useState26","isSuccess","setIsSuccess","_useState27","_useState28","headingText","setHeadingText","handleAddPlaceSubmit","_ref","name","link","makeRequest","setUserCard","then","res","concat","_toConsumableArray","handleSubmit","handleCardLike","card","isLiked","likes","some","id","_id","changeLikeCardStatus","newCard","state","map","c","catch","console","error","handleCardDelete","deleteCard","filter","closeAllModals","handleUpdateAvatar","url","setAvatar","handleUpdateUser","_ref2","about","editingProfile","request","finally","jwt","localStorage","getItem","JSON","stringify","replace","err","status","log","all","getInitialCards","getUserInfo","_ref3","_ref4","cardsData","userData","handleLogin","_ref5","email","password","setItem","token","handleRegister","_ref6","isOpen","closeByEscape","evt","key","document","addEventListener","removeEventListener","handleLoggout","clear","handleCardClick","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","showDeletePopup","Provider","value","children","path","element","className","to","onClick","onEditProfile","onAddPlace","onEditAvatar","onCardClick","onCardLike","onCardDelete","onTrashClick","onClose","onUpdateUser","onUpdateAvatar","onRegister","onLogin"],"sources":["C:/Users/Roman/dev/react-mesto-api-full-gha/frontend/src/components/App.jsx"],"sourcesContent":["\nimport '../../src/index.css';\nimport React from 'react';\nimport Header from './Header.jsx';\nimport Main from './Main.jsx';\nimport Footer from './Footer.jsx';\nimport ImagePopup from './ImagePopup.jsx';\nimport { useEffect, useState } from 'react';\nimport api from \"../utils/Api.js\";\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup.jsx';\nimport EditAvatarPopup from './EditAvatarPopup.jsx';\nimport AddPlacePopup from './AddPlacePopup.jsx';\nimport DeleteConfirmationPopup from './DeleteConfirmationPopup.jsx';\nimport { Route, Routes, useNavigate } from 'react-router-dom'\nimport Login from './Login';\nimport Register from './Register';\nimport { NavLink } from 'react-router-dom';\nimport { login, register, checkToken } from '../utils/auth.js';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRouteElement from './ProtectedRouteElement.jsx';\nimport { Promise } from 'mongoose';\n\n\nfunction App() {\n\n  const navigate = useNavigate()\n\n  const [isDeleteConfirmationPopupOpen, setIsDeleteConfirmationPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false)\n  const [cardDelete, setCardDelete] = useState(null);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('')\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [headingText, setHeadingText] = useState('')\n\n\n\n  function handleAddPlaceSubmit({ name, link }) {\n    function makeRequest() {\n      return api.setUserCard({ name, link })\n        .then(res => {\n          setCards([res, ...cards]);\n\n        })\n    }\n    handleSubmit(makeRequest);\n  }\n\n  function handleCardLike(card, setCards) {\n    const isLiked = card.likes.some(id => id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch(console.error);\n  }\n\n  function handleCardDelete(card, setCards) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => { return c._id !== card._id }))\n        closeAllModals();\n\n      })\n      .catch(console.error);\n  }\n\n  function handleUpdateAvatar(url) {\n    function makeRequest() {\n      return api.setAvatar(url)\n        .then(res => {\n          setCurrentUser(res);\n        })\n    }\n    handleSubmit(makeRequest);\n\n  }\n\n  function handleUpdateUser({ name, about }) {\n    function makeRequest() {\n      return api.editingProfile({ name, about })\n        .then(res => {\n          setCurrentUser(res);\n        })\n    }\n    handleSubmit(makeRequest);\n  }\n\n  // универсальная функця, которая принимает функцию запроса\n  function handleSubmit(request) {\n    setIsLoading(true);\n    request()\n      .then(closeAllModals)\n      .catch(console.error)\n      .finally(() => setIsLoading(false));\n  }\n\n  // Проверка авторизации \n\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    \n    if (jwt) {\n      checkToken(jwt)\n      .then(() => {\n        setUserEmail(JSON.stringify(localStorage.getItem('email')).replace(/\\\"/g, \"\"));\n        setLoggedIn(true)\n        navigate('/')\n      })\n      .catch((err) => {\n        if (err.status === 400) {\n          console.log('400 — Токен не передан или передан не в том формате')\n        } else if (err.status === 401) {\n          console.log('401 — Переданный токен некорректен  ')\n        }\n        navigate('/sign-in')\n      })\n    };\n    // api.getInitialCards()\n    // .then(setCards).catch(console.error);\n    //  api.getUserInfo()\n    // .then(setCurrentUser).catch(console.error);\n  },[navigate])\n\n  useEffect(() => {\n    if (loggedIn) {\n      Promise.all([api.getInitialCards(), api.getUserInfo()])\n      .then(([cardsData, userData]) => {\n        setCards(cardsData);\n        setCurrentUser(userData)\n      })\n      .catch((err)=> console.error(err));\n    }\n  },[loggedIn]);\n\n\n  // Колбэк для логина пользователя\n  function handleLogin({ email, password }) {\n    localStorage.setItem('email', email);\n    setUserEmail(email);\n    return login({ email, password })\n      .then(res => {\n        if (res.token) {\n          localStorage.setItem('jwt', res.token)\n          setLoggedIn(true)\n        }\n      })\n      .catch(err => {\n        if (err.status === 400) {\n          console.log('400 - не передано одно из полей ')\n        } else if (err.status === 401) {\n          console.log('401 - пользователь с email не найден ')\n        }\n      })\n  }\n\n  // Колбэк для регистрации\n\n  function handleRegister({ email, password }) {\n    return register({ email, password })\n      .then((res) => {\n        setIsSuccess(true);\n        setHeadingText('Вы успешно зарегестировались!')\n        return res;\n      })\n      .catch((err) => {\n        if (err.status === 400) {\n          console.log('400 - некорректно заполнено одно из полей')\n        }\n\n        setIsSuccess(false);\n        setHeadingText('Что-то пошло не так...')\n      })\n      .finally(() => {\n        setIsInfoTooltipOpen(true);\n      })\n  }\n\n  // Обработчик закрытие попапа по кнопке Esc\n  const isOpen = isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || selectedCard || isDeleteConfirmationPopupOpen || isInfoTooltipOpen\n\n  useEffect(() => {\n    function closeByEscape(evt) {\n      if (evt.key === 'Escape') {\n        closeAllModals();\n      }\n    }\n    if (isOpen) { // навешиваем только при открытии\n      document.addEventListener('keydown', closeByEscape);\n      return () => {\n        document.removeEventListener('keydown', closeByEscape);\n      }\n    }\n  }, [isOpen])\n\n  function handleLoggout() {\n    localStorage.clear();\n  }\n\n  function handleCardClick(selectedCard) {\n    setSelectedCard(selectedCard);\n  }\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function showDeletePopup(card) {\n    setCardDelete(card);\n    setIsDeleteConfirmationPopupOpen(true);\n  }\n\n  function closeAllModals() {\n    setIsDeleteConfirmationPopupOpen(false)\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCard(null);\n\n  }\n  return (\n\n    <CurrentUserContext.Provider value={currentUser}>\n      <Routes>\n        <Route path=\"/\" element={<ProtectedRouteElement loggedIn={loggedIn} path=\"/\">\n\n          <Header>\n            <div className={'header__container'}>\n              <p className={'header__user-email'}>{userEmail}</p>\n              <NavLink to='/sign-in' className={'header__link header__link_loged_in opacity'} onClick={handleLoggout}>Выход</NavLink>\n            </div>\n\n          </Header>\n          <Main\n            setCards={setCards}\n            cards={cards}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onTrashClick={showDeletePopup}\n\n          />\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllModals} onUpdateUser={handleUpdateUser} isLoading={isLoading} />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllModals} onUpdateAvatar={handleUpdateAvatar} isLoading={isLoading}></EditAvatarPopup>\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllModals} onAddPlace={handleAddPlaceSubmit} isLoading={isLoading}></AddPlacePopup>\n          <DeleteConfirmationPopup isOpen={isDeleteConfirmationPopupOpen} onClose={closeAllModals} onCardDelete={handleCardDelete} card={cardDelete} setCards={setCards}></DeleteConfirmationPopup>\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllModals}\n          />\n          <Footer />\n\n        </ProtectedRouteElement>}></Route>\n        <Route path='/sign-up' element={<Register onRegister={handleRegister} />} />\n        <Route path='/sign-in' element={<Login onLogin={handleLogin} />} />\n      </Routes>\n      {isInfoTooltipOpen > 0 && <InfoTooltip isSuccess={isSuccess} onClose={closeAllModals} headingText={headingText} />}\n    </CurrentUserContext.Provider>\n\n\n\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
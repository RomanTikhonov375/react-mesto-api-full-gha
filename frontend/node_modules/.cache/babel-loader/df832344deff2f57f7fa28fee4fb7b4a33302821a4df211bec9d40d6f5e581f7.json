{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Roman\\\\dev\\\\react-mesto-api-full-gha\\\\frontend\\\\src\\\\components\\\\EditAvatarPopup.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.jsx\";\nimport { useForm } from 'react-hook-form';\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditAvatarPopup(props) {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors,\n      isDirty,\n      isValid\n    },\n    clearErrors,\n    reset\n  } = useForm();\n  const linkRegister = register('link', {\n    pattern: {\n      value: /^[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/,\n      message: 'Тут должна быть ссылка'\n    },\n    required: {\n      value: true,\n      message: 'Обязательное поле'\n    }\n  });\n  const handleSubmitForm = data => {\n    props.onUpdateAvatar(data.link);\n  };\n  function handleClose() {\n    props.onClose();\n  }\n  useEffect(() => {\n    clearErrors('link');\n    reset({\n      'link': ''\n    });\n  }, [props.isOpen]);\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    isDirty: isDirty,\n    isValid: isValid,\n    buttonText: !props.isLoading ? 'Сохранить' : 'Сохранение...',\n    onSubmit: handleSubmit(handleSubmitForm),\n    isOpen: props.isOpen,\n    onClose: handleClose,\n    title: \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",\n    name: \"edit-avatar\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"url\",\n      className: \"popup__input popup__input_type_link\",\n      id: \"card-avatar-link\",\n      name: \"link\",\n      placeholder: \"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",\n      ...linkRegister\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      id: \"card-link-error\",\n      className: `popup__input-error ${errors.link ? 'popup__input-error_active' : ''}`,\n      children: errors.link ? errors.link.message : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(EditAvatarPopup, \"B/KeA2c+iJzTWssyAMqvCFmUDuY=\", false, function () {\n  return [useForm];\n});\n_c = EditAvatarPopup;\nvar _c;\n$RefreshReg$(_c, \"EditAvatarPopup\");","map":{"version":3,"names":["React","PopupWithForm","useForm","useEffect","jsxDEV","_jsxDEV","EditAvatarPopup","props","_s","register","handleSubmit","formState","errors","isDirty","isValid","clearErrors","reset","linkRegister","pattern","value","message","required","handleSubmitForm","data","onUpdateAvatar","link","handleClose","onClose","isOpen","buttonText","isLoading","onSubmit","title","name","children","type","className","id","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Roman/dev/react-mesto-api-full-gha/frontend/src/components/EditAvatarPopup.jsx"],"sourcesContent":["import React from \"react\"\r\nimport PopupWithForm from \"./PopupWithForm.jsx\"\r\nimport { useForm } from 'react-hook-form'\r\nimport { useEffect } from \"react\";\r\n\r\n\r\nexport default function EditAvatarPopup(props) {\r\n\r\n  const { register, handleSubmit, formState: { errors, isDirty, isValid }, clearErrors, reset } = useForm();\r\n\r\n\r\n  const linkRegister = register('link', {\r\n    pattern: {\r\n      value: /^[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/,\r\n      message: 'Тут должна быть ссылка'\r\n    },\r\n    required: {\r\n      value: true,\r\n      message: 'Обязательное поле'\r\n    }\r\n  })\r\n\r\n\r\n  const handleSubmitForm = (data) => {\r\n    props.onUpdateAvatar(data.link);\r\n  }\r\n\r\n  function handleClose() {\r\n    props.onClose();\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    clearErrors('link')\r\n    reset({ 'link': '' })\r\n  }, [props.isOpen])\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isDirty={isDirty}\r\n      isValid={isValid}\r\n      buttonText={!props.isLoading ? 'Сохранить' : 'Сохранение...'}\r\n      onSubmit={handleSubmit(handleSubmitForm)}\r\n      isOpen={props.isOpen}\r\n      onClose={handleClose}\r\n      title=\"Обновить аватар\"\r\n      name=\"edit-avatar\"\r\n    >\r\n      <input type=\"url\" className=\"popup__input popup__input_type_link\" id=\"card-avatar-link\" name=\"link\"\r\n        placeholder=\"Ссылка на картинку\" {...linkRegister} />\r\n      <span id=\"card-link-error\" className={`popup__input-error ${errors.link ? 'popup__input-error_active' : ''}`}>{errors.link ? errors.link.message : ''}</span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,aAAa,MAAM,qBAAqB;AAC/C,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAASC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGlC,eAAe,SAASC,eAAeA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAE7C,MAAM;IAAEC,QAAQ;IAAEC,YAAY;IAAEC,SAAS,EAAE;MAAEC,MAAM;MAAEC,OAAO;MAAEC;IAAQ,CAAC;IAAEC,WAAW;IAAEC;EAAM,CAAC,GAAGd,OAAO,CAAC,CAAC;EAGzG,MAAMe,YAAY,GAAGR,QAAQ,CAAC,MAAM,EAAE;IACpCS,OAAO,EAAE;MACPC,KAAK,EAAE,iGAAiG;MACxGC,OAAO,EAAE;IACX,CAAC;IACDC,QAAQ,EAAE;MACRF,KAAK,EAAE,IAAI;MACXC,OAAO,EAAE;IACX;EACF,CAAC,CAAC;EAGF,MAAME,gBAAgB,GAAIC,IAAI,IAAK;IACjChB,KAAK,CAACiB,cAAc,CAACD,IAAI,CAACE,IAAI,CAAC;EACjC,CAAC;EAED,SAASC,WAAWA,CAAA,EAAG;IACrBnB,KAAK,CAACoB,OAAO,CAAC,CAAC;EAEjB;EAEAxB,SAAS,CAAC,MAAM;IACdY,WAAW,CAAC,MAAM,CAAC;IACnBC,KAAK,CAAC;MAAE,MAAM,EAAE;IAAG,CAAC,CAAC;EACvB,CAAC,EAAE,CAACT,KAAK,CAACqB,MAAM,CAAC,CAAC;EAElB,oBACEvB,OAAA,CAACJ,aAAa;IACZY,OAAO,EAAEA,OAAQ;IACjBC,OAAO,EAAEA,OAAQ;IACjBe,UAAU,EAAE,CAACtB,KAAK,CAACuB,SAAS,GAAG,WAAW,GAAG,eAAgB;IAC7DC,QAAQ,EAAErB,YAAY,CAACY,gBAAgB,CAAE;IACzCM,MAAM,EAAErB,KAAK,CAACqB,MAAO;IACrBD,OAAO,EAAED,WAAY;IACrBM,KAAK,EAAC,uFAAiB;IACvBC,IAAI,EAAC,aAAa;IAAAC,QAAA,gBAElB7B,OAAA;MAAO8B,IAAI,EAAC,KAAK;MAACC,SAAS,EAAC,qCAAqC;MAACC,EAAE,EAAC,kBAAkB;MAACJ,IAAI,EAAC,MAAM;MACjGK,WAAW,EAAC,oGAAoB;MAAA,GAAKrB;IAAY;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eACvDrC,OAAA;MAAMgC,EAAE,EAAC,iBAAiB;MAACD,SAAS,EAAG,sBAAqBxB,MAAM,CAACa,IAAI,GAAG,2BAA2B,GAAG,EAAG,EAAE;MAAAS,QAAA,EAAEtB,MAAM,CAACa,IAAI,GAAGb,MAAM,CAACa,IAAI,CAACL,OAAO,GAAG;IAAE;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChJ,CAAC;AAEpB;AAAClC,EAAA,CA/CuBF,eAAe;EAAA,QAE2DJ,OAAO;AAAA;AAAAyC,EAAA,GAFjFrC,eAAe;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
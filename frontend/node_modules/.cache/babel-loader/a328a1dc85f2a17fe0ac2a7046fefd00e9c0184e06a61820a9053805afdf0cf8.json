{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Roman\\\\dev\\\\react-mesto-api-full-gha\\\\frontend\\\\src\\\\components\\\\AddPlacePopup.jsx\",\n  _s = $RefreshSig$();\nimport PopupWithForm from \"./PopupWithForm.jsx\";\nimport { useForm } from 'react-hook-form';\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddPlacePopup(props) {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors,\n      isDirty,\n      isValid\n    },\n    clearErrors,\n    reset\n  } = useForm({\n    mode: 'onChange'\n  });\n  const nameRegister = register('name', {\n    required: {\n      value: true,\n      message: 'Обязательное поле'\n    },\n    minLength: {\n      value: 2,\n      message: 'Минимальное число символов : 2'\n    },\n    maxLength: {\n      value: 30,\n      message: 'Максимальное число символов: 30'\n    }\n  });\n  const linkRegister = register('link', {\n    required: {\n      value: true,\n      message: 'Обязательное поле'\n    },\n    pattern: {\n      value: /^[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/,\n      message: 'Тут должна быть ссылка'\n    }\n  });\n  const handleSubmitForm = data => {\n    props.onAddPlace({\n      name: data.name,\n      link: data.link\n    });\n  };\n  useEffect(() => {\n    clearErrors([\"name\", \"link\"]);\n    reset({\n      link: \"\",\n      name: \"\"\n    });\n  }, [props.isOpen]);\n  function handleClose() {\n    clearErrors(['name', 'link']);\n    props.onClose();\n  }\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    isDirty: isDirty,\n    isValid: isValid,\n    onSubmit: handleSubmit(handleSubmitForm),\n    title: \"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",\n    name: \"edit-card\",\n    buttonText: !props.isLoading ? 'Создать' : 'Создание...',\n    isOpen: props.isOpen,\n    onClose: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"popup__input popup__input_type_place\",\n      id: \"card-place\",\n      placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n      ...nameRegister\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      id: \"card-place-error\",\n      className: `popup__input-error ${errors.name ? 'popup__input-error_active' : ''}`,\n      children: errors.name ? errors.name.message : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"popup__input popup__input_type_link\",\n      id: \"card-link\",\n      placeholder: \"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",\n      ...linkRegister\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      id: \"card-link-error\",\n      className: `popup__input-error ${errors.link ? 'popup__input-error_active' : ''}`,\n      children: errors.link ? errors.link.message : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(AddPlacePopup, \"NEAX0v/Z4l4C2w6y0lYxJQf66xs=\", false, function () {\n  return [useForm];\n});\n_c = AddPlacePopup;\nvar _c;\n$RefreshReg$(_c, \"AddPlacePopup\");","map":{"version":3,"names":["PopupWithForm","useForm","useEffect","jsxDEV","_jsxDEV","AddPlacePopup","props","_s","register","handleSubmit","formState","errors","isDirty","isValid","clearErrors","reset","mode","nameRegister","required","value","message","minLength","maxLength","linkRegister","pattern","handleSubmitForm","data","onAddPlace","name","link","isOpen","handleClose","onClose","onSubmit","title","buttonText","isLoading","children","type","className","id","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Roman/dev/react-mesto-api-full-gha/frontend/src/components/AddPlacePopup.jsx"],"sourcesContent":["import PopupWithForm from \"./PopupWithForm.jsx\";\r\nimport { useForm } from 'react-hook-form'\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function AddPlacePopup(props) {\r\n \r\n    const {register, handleSubmit, formState:{ errors, isDirty, isValid }, clearErrors,reset,  } = useForm({mode: 'onChange'});\r\n\r\n    const nameRegister = register('name', {\r\n      required: {\r\n        value: true,\r\n        message: 'Обязательное поле'\r\n      },\r\n      minLength: {\r\n        value: 2,\r\n        message: 'Минимальное число символов : 2'\r\n      },\r\n      maxLength: {\r\n        value: 30,\r\n        message: 'Максимальное число символов: 30'\r\n      }\r\n    })\r\n\r\n    const linkRegister = register('link', {\r\n      required: {\r\n        value: true,\r\n        message: 'Обязательное поле'\r\n      },\r\n      pattern: {\r\n        value: /^[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/,\r\n        message: 'Тут должна быть ссылка'\r\n      },\r\n      \r\n    })\r\n   \r\n    const handleSubmitForm = (data) => {\r\n        props.onAddPlace ({  \r\n            name: data.name,\r\n            link: data.link\r\n        }\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n      clearErrors([\"name\", \"link\"]);\r\n      reset({ link: \"\", name: \"\" });\r\n    }, [props.isOpen]); \r\n  \r\n\r\n\r\n\r\n   function handleClose() {\r\n    clearErrors(['name','link'])\r\n    props.onClose();\r\n   \r\n   }\r\n    return (\r\n        <PopupWithForm\r\n        isDirty={isDirty}\r\n        isValid={isValid}\r\n        onSubmit={handleSubmit(handleSubmitForm)}\r\n        title=\"Новое место\"\r\n        name=\"edit-card\"\r\n        buttonText={!props.isLoading ? 'Создать' : 'Создание...'}\r\n        isOpen={props.isOpen}\r\n        onClose={handleClose}>\r\n        <input type=\"text\" className=\"popup__input popup__input_type_place\" id=\"card-place\" \r\n          placeholder=\"Название\" {...nameRegister} />\r\n        <span id=\"card-place-error\" className={`popup__input-error ${errors.name ? 'popup__input-error_active' : ''}`}>{errors.name ? errors.name.message: ''}</span>\r\n        <input type=\"text\" className=\"popup__input popup__input_type_link\" id=\"card-link\" \r\n          placeholder=\"Ссылка на картинку\" {...linkRegister} />\r\n        <span id=\"card-link-error\" className={`popup__input-error ${errors.link ? 'popup__input-error_active' : ''}`}>{errors.link ? errors.link.message: ''}</span>\r\n      </PopupWithForm>\r\n    );\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
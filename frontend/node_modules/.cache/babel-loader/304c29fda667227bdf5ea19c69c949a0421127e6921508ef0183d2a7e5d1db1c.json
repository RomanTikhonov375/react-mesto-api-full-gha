{"ast":null,"code":"import _objectSpread from\"C:/Users/Roman/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import PopupWithForm from\"./PopupWithForm.jsx\";import{useForm}from'react-hook-form';import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddPlacePopup(props){var _useForm=useForm({mode:'onChange'}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isDirty=_useForm$formState.isDirty,isValid=_useForm$formState.isValid,clearErrors=_useForm.clearErrors,reset=_useForm.reset;var nameRegister=register('name',{required:{value:true,message:'Обязательное поле'},minLength:{value:2,message:'Минимальное число символов : 2'},maxLength:{value:30,message:'Максимальное число символов: 30'}});var linkRegister=register('link',{required:{value:true,message:'Обязательное поле'},pattern:{value:/^[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/,message:'Тут должна быть ссылка'}});var handleSubmitForm=function handleSubmitForm(data){props.onAddPlace({name:data.name,link:data.link});};useEffect(function(){clearErrors([\"name\",\"link\"]);reset({link:\"\",name:\"\"});},[props.isOpen]);function handleClose(){clearErrors(['name','link']);props.onClose();}return/*#__PURE__*/_jsxs(PopupWithForm,{isDirty:isDirty,isValid:isValid,onSubmit:handleSubmit(handleSubmitForm),title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",name:\"edit-card\",buttonText:!props.isLoading?'Создать':'Создание...',isOpen:props.isOpen,onClose:handleClose,children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",className:\"popup__input popup__input_type_place\",id:\"card-place\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"},nameRegister)),/*#__PURE__*/_jsx(\"span\",{id:\"card-place-error\",className:\"popup__input-error \".concat(errors.name?'popup__input-error_active':''),children:errors.name?errors.name.message:''}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",className:\"popup__input popup__input_type_link\",id:\"card-link\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\"},linkRegister)),/*#__PURE__*/_jsx(\"span\",{id:\"card-link-error\",className:\"popup__input-error \".concat(errors.link?'popup__input-error_active':''),children:errors.link?errors.link.message:''})]});}","map":{"version":3,"names":["PopupWithForm","useForm","useEffect","jsx","_jsx","jsxs","_jsxs","AddPlacePopup","props","_useForm","mode","register","handleSubmit","_useForm$formState","formState","errors","isDirty","isValid","clearErrors","reset","nameRegister","required","value","message","minLength","maxLength","linkRegister","pattern","handleSubmitForm","data","onAddPlace","name","link","isOpen","handleClose","onClose","onSubmit","title","buttonText","isLoading","children","_objectSpread","type","className","id","placeholder","concat"],"sources":["C:/Users/Roman/dev/react-mesto-api-full-gha/frontend/src/components/AddPlacePopup.jsx"],"sourcesContent":["import PopupWithForm from \"./PopupWithForm.jsx\";\r\nimport { useForm } from 'react-hook-form'\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function AddPlacePopup(props) {\r\n \r\n    const {register, handleSubmit, formState:{ errors, isDirty, isValid }, clearErrors,reset,  } = useForm({mode: 'onChange'});\r\n\r\n    const nameRegister = register('name', {\r\n      required: {\r\n        value: true,\r\n        message: 'Обязательное поле'\r\n      },\r\n      minLength: {\r\n        value: 2,\r\n        message: 'Минимальное число символов : 2'\r\n      },\r\n      maxLength: {\r\n        value: 30,\r\n        message: 'Максимальное число символов: 30'\r\n      }\r\n    })\r\n\r\n    const linkRegister = register('link', {\r\n      required: {\r\n        value: true,\r\n        message: 'Обязательное поле'\r\n      },\r\n      pattern: {\r\n        value: /^[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/,\r\n        message: 'Тут должна быть ссылка'\r\n      },\r\n      \r\n    })\r\n   \r\n    const handleSubmitForm = (data) => {\r\n        props.onAddPlace ({  \r\n            name: data.name,\r\n            link: data.link\r\n        }\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n      clearErrors([\"name\", \"link\"]);\r\n      reset({ link: \"\", name: \"\" });\r\n    }, [props.isOpen]); \r\n  \r\n\r\n\r\n\r\n   function handleClose() {\r\n    clearErrors(['name','link'])\r\n    props.onClose();\r\n   \r\n   }\r\n    return (\r\n        <PopupWithForm\r\n        isDirty={isDirty}\r\n        isValid={isValid}\r\n        onSubmit={handleSubmit(handleSubmitForm)}\r\n        title=\"Новое место\"\r\n        name=\"edit-card\"\r\n        buttonText={!props.isLoading ? 'Создать' : 'Создание...'}\r\n        isOpen={props.isOpen}\r\n        onClose={handleClose}>\r\n        <input type=\"text\" className=\"popup__input popup__input_type_place\" id=\"card-place\" \r\n          placeholder=\"Название\" {...nameRegister} />\r\n        <span id=\"card-place-error\" className={`popup__input-error ${errors.name ? 'popup__input-error_active' : ''}`}>{errors.name ? errors.name.message: ''}</span>\r\n        <input type=\"text\" className=\"popup__input popup__input_type_link\" id=\"card-link\" \r\n          placeholder=\"Ссылка на картинку\" {...linkRegister} />\r\n        <span id=\"card-link-error\" className={`popup__input-error ${errors.link ? 'popup__input-error_active' : ''}`}>{errors.link ? errors.link.message: ''}</span>\r\n      </PopupWithForm>\r\n    );\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
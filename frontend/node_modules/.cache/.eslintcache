[{"C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\index.js":"1","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\App.jsx":"2","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\Footer.jsx":"3","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\ImagePopup.jsx":"4","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\EditProfilePopup.jsx":"5","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\Header.jsx":"6","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\Main.jsx":"7","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\DeleteConfirmationPopup.jsx":"8","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\EditAvatarPopup.jsx":"9","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\AddPlacePopup.jsx":"10","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\ProtectedRouteElement.jsx":"11","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\utils\\auth.js":"12","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\utils\\Api.js":"13","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\InfoTooltip.jsx":"14","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\Login.jsx":"15","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\Register.jsx":"16","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\context\\CurrentUserContext.jsx":"17","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\Card.jsx":"18","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\PopupWithForm.jsx":"19"},{"size":365,"mtime":1697308449996,"results":"20","hashOfConfig":"21"},{"size":9007,"mtime":1701943154111,"results":"22","hashOfConfig":"21"},{"size":222,"mtime":1694708331989,"results":"23","hashOfConfig":"21"},{"size":594,"mtime":1697828641081,"results":"24","hashOfConfig":"21"},{"size":2991,"mtime":1697828573858,"results":"25","hashOfConfig":"21"},{"size":302,"mtime":1696881709761,"results":"26","hashOfConfig":"21"},{"size":2130,"mtime":1701834210306,"results":"27","hashOfConfig":"21"},{"size":1041,"mtime":1697742983468,"results":"28","hashOfConfig":"21"},{"size":1648,"mtime":1697912134431,"results":"29","hashOfConfig":"21"},{"size":2544,"mtime":1697922121528,"results":"30","hashOfConfig":"21"},{"size":264,"mtime":1701925419319,"results":"31","hashOfConfig":"21"},{"size":1269,"mtime":1701940153168,"results":"32","hashOfConfig":"21"},{"size":3978,"mtime":1701980299936,"results":"33","hashOfConfig":"21"},{"size":713,"mtime":1697743783424,"results":"34","hashOfConfig":"21"},{"size":2969,"mtime":1697743262839,"results":"35","hashOfConfig":"21"},{"size":3170,"mtime":1697743280048,"results":"36","hashOfConfig":"21"},{"size":88,"mtime":1695926785790,"results":"37","hashOfConfig":"21"},{"size":1532,"mtime":1701835909967,"results":"38","hashOfConfig":"21"},{"size":965,"mtime":1701925458923,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"quzpxz",{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69"},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80"},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87"},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95"},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\index.js",[],[],"C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\App.jsx",["105"],[],"\nimport '../../src/index.css';\nimport React from 'react';\nimport Header from './Header.jsx';\nimport Main from './Main.jsx';\nimport Footer from './Footer.jsx';\nimport ImagePopup from './ImagePopup.jsx';\nimport { useEffect, useState } from 'react';\nimport api from \"../utils/Api.js\";\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup.jsx';\nimport EditAvatarPopup from './EditAvatarPopup.jsx';\nimport AddPlacePopup from './AddPlacePopup.jsx';\nimport DeleteConfirmationPopup from './DeleteConfirmationPopup.jsx';\nimport { Route, Routes, useNavigate } from 'react-router-dom'\nimport Login from './Login';\nimport Register from './Register';\nimport { NavLink } from 'react-router-dom';\nimport { login, register, checkToken } from '../utils/auth.js';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRouteElement from './ProtectedRouteElement.jsx';\n\n// - 4 часа на поиск неисправности в добавлении 2х карточек ^_^\n\nfunction App() {\n\n  const navigate = useNavigate()\n\n  const [isDeleteConfirmationPopupOpen, setIsDeleteConfirmationPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false)\n  const [cardDelete, setCardDelete] = useState(null);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('')\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [headingText, setHeadingText] = useState('')\n\n\n\n  function handleAddPlaceSubmit({ name, link }) {\n    function makeRequest() {\n      return api.setUserCard({ name, link })\n        .then(res => {\n          setCards([res, ...cards]);\n\n        })\n    }\n    handleSubmit(makeRequest);\n  }\n\n  function handleCardLike(card, setCards) {\n    const isLiked = card.likes.some(id => id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch(console.error);\n  }\n\n  function handleCardDelete(card, setCards) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => { return c._id !== card._id }))\n        closeAllModals();\n\n      })\n      .catch(console.error);\n  }\n\n  function handleUpdateAvatar(url) {\n    function makeRequest() {\n      return api.setAvatar(url)\n        .then(res => {\n          setCurrentUser(res);\n        })\n    }\n    handleSubmit(makeRequest);\n\n  }\n\n  function handleUpdateUser({ name, about }) {\n    function makeRequest() {\n      return api.editingProfile({ name, about })\n        .then(res => {\n          setCurrentUser(res);\n        })\n    }\n    handleSubmit(makeRequest);\n  }\n\n  // универсальная функця, которая принимает функцию запроса\n  function handleSubmit(request) {\n    setIsLoading(true);\n    request()\n      .then(closeAllModals)\n      .catch(console.error)\n      .finally(() => setIsLoading(false));\n  }\n\n  // Проверка авторизации \n\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    \n    if (jwt) {\n      checkToken(jwt)\n      .then(() => {\n        setUserEmail(JSON.stringify(localStorage.getItem('email')).replace(/\\\"/g, \"\"));\n        setLoggedIn(true)\n        navigate('/')\n      })\n      .catch((err) => {\n        if (err.status === 400) {\n          console.log('400 — Токен не передан или передан не в том формате')\n        } else if (err.status === 401) {\n          console.log('401 — Переданный токен некорректен  ')\n        }\n        navigate('/sign-in')\n      })\n    };\n    api.getInitialCards()\n    .then(setCards).catch(console.error);\n     api.getUserInfo()\n    .then(setCurrentUser).catch(console.error);\n  },[navigate,loggedIn])\n\n\n  // Колбэк для логина пользователя\n  function handleLogin({ email, password }) {\n    localStorage.setItem('email', email);\n    setUserEmail(email);\n    return login({ email, password })\n      .then(res => {\n        if (res.token) {\n          localStorage.setItem('jwt', res.token)\n          setLoggedIn(true)\n        }\n      })\n      .catch(err => {\n        if (err.status === 400) {\n          console.log('400 - не передано одно из полей ')\n        } else if (err.status === 401) {\n          console.log('401 - пользователь с email не найден ')\n        }\n      })\n  }\n\n  // Колбэк для регистрации\n\n  function handleRegister({ email, password }) {\n    return register({ email, password })\n      .then((res) => {\n        setIsSuccess(true);\n        setHeadingText('Вы успешно зарегестировались!')\n        return res;\n      })\n      .catch((err) => {\n        if (err.status === 400) {\n          console.log('400 - некорректно заполнено одно из полей')\n        }\n\n        setIsSuccess(false);\n        setHeadingText('Что-то пошло не так...')\n      })\n      .finally(() => {\n        setIsInfoTooltipOpen(true);\n      })\n  }\n\n  // Обработчик закрытие попапа по кнопке Esc\n  const isOpen = isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || selectedCard || isDeleteConfirmationPopupOpen || isInfoTooltipOpen\n\n  useEffect(() => {\n    function closeByEscape(evt) {\n      if (evt.key === 'Escape') {\n        closeAllModals();\n      }\n    }\n    if (isOpen) { // навешиваем только при открытии\n      document.addEventListener('keydown', closeByEscape);\n      return () => {\n        document.removeEventListener('keydown', closeByEscape);\n      }\n    }\n  }, [isOpen])\n\n  function handleLoggout() {\n    localStorage.clear();\n  }\n\n  function handleCardClick(selectedCard) {\n    setSelectedCard(selectedCard);\n  }\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function showDeletePopup(card) {\n    setCardDelete(card);\n    setIsDeleteConfirmationPopupOpen(true);\n  }\n\n  function closeAllModals() {\n    setIsDeleteConfirmationPopupOpen(false)\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCard(null);\n\n  }\n  return (\n\n    <CurrentUserContext.Provider value={currentUser}>\n      <Routes>\n        <Route path=\"/\" element={<ProtectedRouteElement loggedIn={loggedIn} path=\"/\">\n\n          <Header>\n            <div className={'header__container'}>\n              <p className={'header__user-email'}>{userEmail}</p>\n              <NavLink to='/sign-in' className={'header__link header__link_loged_in opacity'} onClick={handleLoggout}>Выход</NavLink>\n            </div>\n\n          </Header>\n          <Main\n            setCards={setCards}\n            cards={cards}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onTrashClick={showDeletePopup}\n\n          />\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllModals} onUpdateUser={handleUpdateUser} isLoading={isLoading} />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllModals} onUpdateAvatar={handleUpdateAvatar} isLoading={isLoading}></EditAvatarPopup>\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllModals} onAddPlace={handleAddPlaceSubmit} isLoading={isLoading}></AddPlacePopup>\n          <DeleteConfirmationPopup isOpen={isDeleteConfirmationPopupOpen} onClose={closeAllModals} onCardDelete={handleCardDelete} card={cardDelete} setCards={setCards}></DeleteConfirmationPopup>\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllModals}\n          />\n          <Footer />\n\n        </ProtectedRouteElement>}></Route>\n        <Route path='/sign-up' element={<Register onRegister={handleRegister} />} />\n        <Route path='/sign-in' element={<Login onLogin={handleLogin} />} />\n      </Routes>\n      {isInfoTooltipOpen > 0 && <InfoTooltip isSuccess={isSuccess} onClose={closeAllModals} headingText={headingText} />}\n    </CurrentUserContext.Provider>\n\n\n\n  );\n}\n\nexport default App;","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\Footer.jsx",[],[],"C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\ImagePopup.jsx",[],[],"C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\EditProfilePopup.jsx",["106","107"],[],"import React, { useState, useContext, useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.jsx\";\r\nimport { CurrentUserContext } from '../../src/context/CurrentUserContext';\r\nimport { useForm } from 'react-hook-form'\r\n\r\nexport default function EditProfilePopup(props) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const {register, handleSubmit, formState:{ errors, isDirty, isValid }, clearErrors,reset, setValue} = useForm({mode: 'onChange'});\r\n\r\n    const nameRegister = register('name', {\r\n      required: {\r\n        value: true,\r\n        message: 'Обязательное поле'\r\n      },\r\n      minLength: {\r\n        value: 2,\r\n        message: 'Минимальное число символов : 2'\r\n      },\r\n      maxLength: {\r\n        value: 40,\r\n        message: 'Максимальное число символов: 40'\r\n      }\r\n    })\r\n\r\n    const aboutRegister = register('about', {\r\n        required: {\r\n            value: true,\r\n            message: 'Обязательное поле'\r\n          },\r\n          minLength: {\r\n            value: 2,\r\n            message: 'Минимальное число символов : 2'\r\n          },\r\n          maxLength: {\r\n            value: 40,\r\n            message: 'Максимальное число символов: 200'\r\n          }\r\n    })\r\n\r\n\r\n    useEffect(() => {\r\n        reset()\r\n        setValue(\"name\", currentUser.name)\r\n        setValue(\"about\", currentUser.about)\r\n    }, [currentUser, props.isOpen]);\r\n\r\n\r\n    function handleSubmitForm(data) {\r\n        props.onUpdateUser({\r\n            name: data.name,\r\n            about: data.about\r\n        });\r\n    }\r\n\r\n    function handleClose() {\r\n        props.onClose();\r\n        clearErrors(['name','about'])\r\n    }\r\n\r\n \r\n\r\n    return (\r\n        <PopupWithForm\r\n            buttonText={!props.isLoading ? 'Сохранить' : 'Сохранение...'}\r\n            isDirty={isDirty}\r\n            isValid={isValid}\r\n            onSubmit={handleSubmit(handleSubmitForm)}\r\n            title=\"Редактировать профиль\"\r\n            name=\"edit-profile\"\r\n            isOpen={props.isOpen}\r\n            onClose={handleClose}\r\n        >\r\n            <input type=\"text\" className=\"popup__input popup__input_type_name\" id=\"user-name\" name=\"name\"\r\n                placeholder=\"Введите ваше имя\" {...nameRegister} />\r\n            <span id=\"card-link-error\" className={`popup__input-error ${errors.name ? 'popup__input-error_active' : ''}`}>{errors.name ? errors.name.message: ''}</span>\r\n            <input type=\"text\" className=\"popup__input popup__input_type_career\" id=\"user-career\" name=\"about\"\r\n                placeholder=\"Введите ваше призвание\" {...aboutRegister} />\r\n            <span id=\"card-link-error\" className={`popup__input-error ${errors.about ? 'popup__input-error_active' : ''}`}>{errors.about ? errors.about.message: ''}</span>\r\n        </PopupWithForm>\r\n    )\r\n}","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\Header.jsx",[],[],"C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\Main.jsx",[],[],"C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\DeleteConfirmationPopup.jsx",[],[],"C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\EditAvatarPopup.jsx",["108","109","110","111","112","113"],[],"import React from \"react\"\r\nimport PopupWithForm from \"./PopupWithForm.jsx\"\r\nimport { useForm } from 'react-hook-form'\r\nimport { useEffect } from \"react\";\r\n\r\n\r\nexport default function EditAvatarPopup(props) {\r\n\r\n  const { register, handleSubmit, formState: { errors, isDirty, isValid }, clearErrors, reset } = useForm();\r\n\r\n\r\n  const linkRegister = register('link', {\r\n    pattern: {\r\n      value: /^[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/,\r\n      message: 'Тут должна быть ссылка'\r\n    },\r\n    required: {\r\n      value: true,\r\n      message: 'Обязательное поле'\r\n    }\r\n  })\r\n\r\n\r\n  const handleSubmitForm = (data) => {\r\n    props.onUpdateAvatar(data.link);\r\n  }\r\n\r\n  function handleClose() {\r\n    props.onClose();\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    clearErrors('link')\r\n    reset({ 'link': '' })\r\n  }, [props.isOpen])\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isDirty={isDirty}\r\n      isValid={isValid}\r\n      buttonText={!props.isLoading ? 'Сохранить' : 'Сохранение...'}\r\n      onSubmit={handleSubmit(handleSubmitForm)}\r\n      isOpen={props.isOpen}\r\n      onClose={handleClose}\r\n      title=\"Обновить аватар\"\r\n      name=\"edit-avatar\"\r\n    >\r\n      <input type=\"url\" className=\"popup__input popup__input_type_link\" id=\"card-avatar-link\" name=\"link\"\r\n        placeholder=\"Ссылка на картинку\" {...linkRegister} />\r\n      <span id=\"card-link-error\" className={`popup__input-error ${errors.link ? 'popup__input-error_active' : ''}`}>{errors.link ? errors.link.message : ''}</span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\AddPlacePopup.jsx",["114","115","116","117","118","119"],[],"import PopupWithForm from \"./PopupWithForm.jsx\";\r\nimport { useForm } from 'react-hook-form'\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function AddPlacePopup(props) {\r\n \r\n    const {register, handleSubmit, formState:{ errors, isDirty, isValid }, clearErrors,reset,  } = useForm({mode: 'onChange'});\r\n\r\n    const nameRegister = register('name', {\r\n      required: {\r\n        value: true,\r\n        message: 'Обязательное поле'\r\n      },\r\n      minLength: {\r\n        value: 2,\r\n        message: 'Минимальное число символов : 2'\r\n      },\r\n      maxLength: {\r\n        value: 30,\r\n        message: 'Максимальное число символов: 30'\r\n      }\r\n    })\r\n\r\n    const linkRegister = register('link', {\r\n      required: {\r\n        value: true,\r\n        message: 'Обязательное поле'\r\n      },\r\n      pattern: {\r\n        value: /^[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/,\r\n        message: 'Тут должна быть ссылка'\r\n      },\r\n      \r\n    })\r\n   \r\n    const handleSubmitForm = (data) => {\r\n        props.onAddPlace ({  \r\n            name: data.name,\r\n            link: data.link\r\n        }\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n      clearErrors([\"name\", \"link\"]);\r\n      reset({ link: \"\", name: \"\" });\r\n    }, [props.isOpen]); \r\n  \r\n\r\n\r\n\r\n   function handleClose() {\r\n    clearErrors(['name','link'])\r\n    props.onClose();\r\n   \r\n   }\r\n    return (\r\n        <PopupWithForm\r\n        isDirty={isDirty}\r\n        isValid={isValid}\r\n        onSubmit={handleSubmit(handleSubmitForm)}\r\n        title=\"Новое место\"\r\n        name=\"edit-card\"\r\n        buttonText={!props.isLoading ? 'Создать' : 'Создание...'}\r\n        isOpen={props.isOpen}\r\n        onClose={handleClose}>\r\n        <input type=\"text\" className=\"popup__input popup__input_type_place\" id=\"card-place\" \r\n          placeholder=\"Название\" {...nameRegister} />\r\n        <span id=\"card-place-error\" className={`popup__input-error ${errors.name ? 'popup__input-error_active' : ''}`}>{errors.name ? errors.name.message: ''}</span>\r\n        <input type=\"text\" className=\"popup__input popup__input_type_link\" id=\"card-link\" \r\n          placeholder=\"Ссылка на картинку\" {...linkRegister} />\r\n        <span id=\"card-link-error\" className={`popup__input-error ${errors.link ? 'popup__input-error_active' : ''}`}>{errors.link ? errors.link.message: ''}</span>\r\n      </PopupWithForm>\r\n    );\r\n\r\n}","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\ProtectedRouteElement.jsx",[],[],"C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\utils\\auth.js",["120"],[],"export const BASE_URL = 'https://api.romantikhonov.mesto.nomoredomainsmonster.ru'\r\n\r\n\r\nconst checkResponse = (res) => {\r\n    if (res.ok) {\r\n        return res.json();\r\n    } else {\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n}\r\n\r\n//Функция создания запроса\r\nconst request = (url, options) => {\r\n    return fetch(`${BASE_URL}` + `${url}`, options).then(checkResponse)\r\n}\r\n\r\nexport const register = ({ password, email }) => {\r\n    return request(`/signup`, {\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n            password: password,\r\n            email: email\r\n        })\r\n    })\r\n}\r\n\r\n\r\nexport const login = ({ password, email }) => {\r\n    return request(`/signin`, {\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n            password: password,\r\n            email: email\r\n        })\r\n    })\r\n}\r\n\r\nexport const checkToken = (jwt) => {\r\n    return request(`/users/me`, {\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": `Bearer ${jwt}`\r\n        },\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\n","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\utils\\Api.js",["121"],[],"C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\InfoTooltip.jsx",["122"],[],"import React from \"react\";\r\nimport unionSucsess from './../images/UnionSucsess.svg';\r\nimport unionError from './../images/UnionError.svg'\r\n\r\n\r\nexport default function InfoTooltip(props) {\r\n    return (\r\n\r\n        <div className={`popup  popup_background-color-opacity_05 popup_opened`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close-btn opacity\" type=\"button\" aria-label=\"закрыть окно\" onClick={props.onClose}></button>\r\n                <img className=\"popup__request-status\" src={props.isSuccess ? unionSucsess : unionError} />\r\n                <h2 className=\"popup__heading\">{props.headingText}</h2>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\Login.jsx",["123","124"],[],"import React from 'react';\r\nimport Header from './Header';\r\nimport { NavLink, useNavigate } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form'\r\n\r\n\r\nexport default function Login({ onLogin }) {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const { register, handleSubmit, formState: { errors, isDirty, isValid }, clearErrors, reset } = useForm({ mode: 'onChange' });\r\n\r\n    const emailRegister = register('email', {\r\n        required: {\r\n            value: true,\r\n            message: 'Обязательное поле'\r\n        },\r\n        pattern: {\r\n            value: /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/,\r\n            message: 'Введите email'\r\n        }\r\n\r\n    })\r\n\r\n    const passwordRegister = register('password', {\r\n\r\n        required: {\r\n            value: true,\r\n            message: 'Обязательное поле'\r\n        },\r\n        minLength: {\r\n            value: 2,\r\n            message: 'Минимальное число символов : 2'\r\n        },\r\n        maxLength: {\r\n            value: 10,\r\n            message: 'Максимальное число символов: 10'\r\n        }\r\n    })\r\n\r\n    const handleSubmitForm = (data) => {\r\n        onLogin({\r\n            email: data.email,\r\n            password: data.password\r\n        }\r\n\r\n        ).then(() => {\r\n            navigate('/');\r\n            reset();\r\n        })\r\n            .catch(console.error);\r\n        \r\n    }\r\n\r\n    \r\n\r\n    return (\r\n        <>\r\n            <Header>\r\n                <NavLink to='/sign-up' className={'header__link opacity'}>Регистрация</NavLink>\r\n            </Header>\r\n            <div className={'login'}>\r\n                <div className=\"login__container\">\r\n                    <h2 className=\"login__heading\">Вход</h2>\r\n                    <form action=\"#\" className='login__form' name='login' onSubmit={handleSubmit(handleSubmitForm)}>\r\n                        <input type=\"email\" className=\"login__input\" id=\"user-email\" name=\"email\"\r\n                            placeholder=\"Введите ваш email\" {...emailRegister} />\r\n                        <span id=\"card-link-error\" className={`login__input-error ${errors.email ? 'login__input-error_active' : ''}`}>{errors.email ? errors.email.message : ''}</span>\r\n                        <input type=\"password\" className=\"login__input\" id=\"user-password\" name=\"password\"\r\n                            placeholder=\"Введите ваше пароль\" {...passwordRegister} />\r\n                        <span id=\"card-link-error\" className={`login__input-error ${errors.password ? 'login__input-error_active' : ''}`}>{errors.password ? errors.password.message : ''}</span>\r\n                        <button disabled={!isDirty || !isValid} type=\"submit\" className={`login__submit-btn ${!isDirty || !isValid ? 'popup__submit-btn_inactive' : ''}`}>Войти</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\Register.jsx",["125","126"],[],"import React from 'react';\r\nimport Header from './Header';\r\nimport { NavLink, useNavigate } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form'\r\n\r\nexport default function Register(props) {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const { register, handleSubmit, formState: { errors, isDirty, isValid }, clearErrors, reset } = useForm({ mode: 'onChange' });\r\n\r\n    const emailRegister = register('email', {\r\n        required: {\r\n            value: true,\r\n            message: 'Обязательное поле'\r\n        },\r\n        pattern: {\r\n            value: /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/,\r\n            message: 'Введите email'\r\n        }\r\n\r\n    })\r\n\r\n    const passwordRegister = register('password', {\r\n\r\n        required: {\r\n            value: true,\r\n            message: 'Обязательное поле'\r\n        },\r\n        minLength: {\r\n            value: 2,\r\n            message: 'Минимальное число символов : 2'\r\n        },\r\n        maxLength: {\r\n            value: 10,\r\n            message: 'Максимальное число символов: 10'\r\n        }\r\n    })\r\n\r\n    const handleSubmitForm = (data) => {\r\n        props.onRegister({\r\n            email: data.email,\r\n            password: data.password\r\n        }).then(() => {\r\n            navigate('/sign-in');\r\n            reset();\r\n\r\n        })\r\n            .catch(console.error);\r\n        \r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header>\r\n                <NavLink to='/sign-in' className={'header__link opacity'}>Вход</NavLink>\r\n            </Header>\r\n            <div className={'login'}>\r\n                <div className=\"login__container\">\r\n                    <h2 className=\"login__heading\">Регистрация</h2>\r\n                    <form action=\"#\" className='login__form' name='register' onSubmit={handleSubmit(handleSubmitForm)}>\r\n                        <input type=\"email\" className=\"login__input\" id=\"user-email\" name=\"email\"\r\n                            placeholder=\"Введите ваш email\" {...emailRegister} />\r\n                        <span id=\"card-link-error\" className={`login__input-error ${errors.email ? 'login__input-error_active' : ''}`}>{errors.email ? errors.email.message : ''}</span>\r\n                        <input type=\"password\" className=\"login__input\" id=\"user-password\" name=\"password\"\r\n                            placeholder=\"Введите ваше пароль\" {...passwordRegister} />\r\n                        <span id=\"card-link-error\" className={`login__input-error ${errors.password ? 'login__input-error_active' : ''}`}>{errors.password ? errors.password.message : ''}</span>\r\n                        <button disabled={!isDirty || !isValid} type=\"submit\" className={`login__submit-btn ${!isDirty || !isValid ? 'popup__submit-btn_inactive' : ''}`}>Зарегистрироваться</button>\r\n\r\n                    </form>\r\n                    <p className='login__caption'>Уже зарегистрированы? <NavLink to='/sign-in' className={'login__caption opacity'}>Войти</NavLink></p>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\context\\CurrentUserContext.jsx",[],[],"C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\Card.jsx",[],[],"C:\\Users\\Roman\\dev\\react-mesto-api-full-gha\\frontend\\src\\components\\PopupWithForm.jsx",[],[],{"ruleId":"127","severity":1,"message":"128","line":116,"column":77,"nodeType":"129","messageId":"130","endLine":116,"endColumn":78,"suggestions":"131"},{"ruleId":"132","severity":1,"message":"133","line":1,"column":17,"nodeType":"134","messageId":"135","endLine":1,"endColumn":25},{"ruleId":"136","severity":1,"message":"137","line":47,"column":8,"nodeType":"138","endLine":47,"endColumn":35,"suggestions":"139"},{"ruleId":"127","severity":1,"message":"140","line":14,"column":28,"nodeType":"129","messageId":"130","endLine":14,"endColumn":29,"suggestions":"141"},{"ruleId":"127","severity":1,"message":"140","line":14,"column":30,"nodeType":"129","messageId":"130","endLine":14,"endColumn":31,"suggestions":"142"},{"ruleId":"127","severity":1,"message":"143","line":14,"column":36,"nodeType":"129","messageId":"130","endLine":14,"endColumn":37,"suggestions":"144"},{"ruleId":"127","severity":1,"message":"145","line":14,"column":54,"nodeType":"129","messageId":"130","endLine":14,"endColumn":55,"suggestions":"146"},{"ruleId":"127","severity":1,"message":"145","line":14,"column":97,"nodeType":"129","messageId":"130","endLine":14,"endColumn":98,"suggestions":"147"},{"ruleId":"136","severity":1,"message":"148","line":36,"column":6,"nodeType":"138","endLine":36,"endColumn":20,"suggestions":"149"},{"ruleId":"127","severity":1,"message":"140","line":30,"column":30,"nodeType":"129","messageId":"130","endLine":30,"endColumn":31,"suggestions":"150"},{"ruleId":"127","severity":1,"message":"140","line":30,"column":32,"nodeType":"129","messageId":"130","endLine":30,"endColumn":33,"suggestions":"151"},{"ruleId":"127","severity":1,"message":"143","line":30,"column":38,"nodeType":"129","messageId":"130","endLine":30,"endColumn":39,"suggestions":"152"},{"ruleId":"127","severity":1,"message":"145","line":30,"column":56,"nodeType":"129","messageId":"130","endLine":30,"endColumn":57,"suggestions":"153"},{"ruleId":"127","severity":1,"message":"145","line":30,"column":99,"nodeType":"129","messageId":"130","endLine":30,"endColumn":100,"suggestions":"154"},{"ruleId":"136","severity":1,"message":"148","line":47,"column":8,"nodeType":"138","endLine":47,"endColumn":22,"suggestions":"155"},{"ruleId":"156","severity":1,"message":"157","line":14,"column":32,"nodeType":"158","messageId":"159","endLine":14,"endColumn":33},{"ruleId":"156","severity":1,"message":"157","line":23,"column":40,"nodeType":"158","messageId":"159","endLine":23,"endColumn":41},{"ruleId":"160","severity":1,"message":"161","line":12,"column":17,"nodeType":"162","endLine":12,"endColumn":108},{"ruleId":"132","severity":1,"message":"163","line":11,"column":78,"nodeType":"134","messageId":"135","endLine":11,"endColumn":89},{"ruleId":"127","severity":1,"message":"143","line":19,"column":26,"nodeType":"129","messageId":"130","endLine":19,"endColumn":27,"suggestions":"164"},{"ruleId":"132","severity":1,"message":"163","line":10,"column":78,"nodeType":"134","messageId":"135","endLine":10,"endColumn":89},{"ruleId":"127","severity":1,"message":"143","line":18,"column":26,"nodeType":"129","messageId":"130","endLine":18,"endColumn":27,"suggestions":"165"},"no-useless-escape","Unnecessary escape character: \\\".","Literal","unnecessaryEscape",["166","167"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'reset' and 'setValue'. Either include them or remove the dependency array.","ArrayExpression",["168"],"Unnecessary escape character: \\/.",["169","170"],["171","172"],"Unnecessary escape character: \\..",["173","174"],"Unnecessary escape character: \\+.",["175","176"],["177","178"],"React Hook useEffect has missing dependencies: 'clearErrors' and 'reset'. Either include them or remove the dependency array.",["179"],["180","181"],["182","183"],["184","185"],["186","187"],["188","189"],["190"],"no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'clearErrors' is assigned a value but never used.",["191","192"],["193","194"],{"messageId":"195","fix":"196","desc":"197"},{"messageId":"198","fix":"199","desc":"200"},{"desc":"201","fix":"202"},{"messageId":"195","fix":"203","desc":"197"},{"messageId":"198","fix":"204","desc":"200"},{"messageId":"195","fix":"205","desc":"197"},{"messageId":"198","fix":"206","desc":"200"},{"messageId":"195","fix":"207","desc":"197"},{"messageId":"198","fix":"208","desc":"200"},{"messageId":"195","fix":"209","desc":"197"},{"messageId":"198","fix":"210","desc":"200"},{"messageId":"195","fix":"211","desc":"197"},{"messageId":"198","fix":"212","desc":"200"},{"desc":"213","fix":"214"},{"messageId":"195","fix":"215","desc":"197"},{"messageId":"198","fix":"216","desc":"200"},{"messageId":"195","fix":"217","desc":"197"},{"messageId":"198","fix":"218","desc":"200"},{"messageId":"195","fix":"219","desc":"197"},{"messageId":"198","fix":"220","desc":"200"},{"messageId":"195","fix":"221","desc":"197"},{"messageId":"198","fix":"222","desc":"200"},{"messageId":"195","fix":"223","desc":"197"},{"messageId":"198","fix":"224","desc":"200"},{"desc":"213","fix":"225"},{"messageId":"195","fix":"226","desc":"197"},{"messageId":"198","fix":"227","desc":"200"},{"messageId":"195","fix":"228","desc":"197"},{"messageId":"198","fix":"229","desc":"200"},"removeEscape",{"range":"230","text":"231"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"232","text":"233"},"Replace the `\\` with `\\\\` to include the actual backslash character.","Update the dependencies array to be: [currentUser, props.isOpen, reset, setValue]",{"range":"234","text":"235"},{"range":"236","text":"231"},{"range":"237","text":"233"},{"range":"238","text":"231"},{"range":"239","text":"233"},{"range":"240","text":"231"},{"range":"241","text":"233"},{"range":"242","text":"231"},{"range":"243","text":"233"},{"range":"244","text":"231"},{"range":"245","text":"233"},"Update the dependencies array to be: [clearErrors, props.isOpen, reset]",{"range":"246","text":"247"},{"range":"248","text":"231"},{"range":"249","text":"233"},{"range":"250","text":"231"},{"range":"251","text":"233"},{"range":"252","text":"231"},{"range":"253","text":"233"},{"range":"254","text":"231"},{"range":"255","text":"233"},{"range":"256","text":"231"},{"range":"257","text":"233"},{"range":"258","text":"247"},{"range":"259","text":"231"},{"range":"260","text":"233"},{"range":"261","text":"231"},{"range":"262","text":"233"},[3596,3597],"",[3596,3596],"\\",[1364,1391],"[currentUser, props.isOpen, reset, setValue]",[411,412],[411,411],[413,414],[413,413],[419,420],[419,419],[437,438],[437,437],[480,481],[480,480],[858,872],"[clearErrors, props.isOpen, reset]",[839,840],[839,839],[841,842],[841,841],[847,848],[847,847],[865,866],[865,865],[908,909],[908,908],[1268,1282],[579,580],[579,579],[574,575],[574,574]]